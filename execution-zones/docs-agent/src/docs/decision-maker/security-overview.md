# セキュリティ概要

**目的**: セキュリティの重要性、多層防御、2 鍵防御、監視とユーザーの役割を、技術詳細に踏み込まず説明する。
**対象読者**: 意思決定者（経営層、マネージャー、セキュリティレビュー担当）
**最終更新日**: 2026-02-14

---

## エグゼクティブサマリー

AI システムは機密情報を扱う可能性があるため、不正アクセスから組織を守る必要があります。

本システムのアプローチは次のとおりです。

- **多層防御**: 複数のセキュリティ層で守り、1 層が突破されても他層が防御します。
- **2 鍵防御**: 2 つの独立した鍵を使い、1 つが漏洩してももう 1 つがなければ攻撃は成功しません。
- **24 時間 365 日の監視**: 異常を検出し、自動でブロックし、必要に応じてセキュリティチームに通知します。

ユーザーには、機密情報を含む質問を避ける、適切なチャンネルの利用、利用規約の遵守が求められます。

---

## なぜセキュリティが重要なのか

- **機密情報の保護**: 組織の機密情報の漏洩リスクを抑える。
- **不正アクセスの防止**: 外部攻撃や内部の不正利用を防ぐ。
- **コンプライアンス**: 法的・業界の要件を満たす。
- **信頼の維持**: 顧客やパートナーからの信頼を保つ。

単一の防御に頼らず、複数の層で守る設計にしています。

---

## 5 層の防御（イメージ）

建物のセキュリティと同様に、複数のゲートで守ります。

| 層 | 役割 | イメージ |
|----|------|----------|
| 第 1 層 | Slack ユーザー認証 | 入館時の本人確認（SSO・MFA は Slack が提供） |
| 第 2 層 | 署名検証 | リクエストが本当に Slack から送られたことを確認 |
| 第 3 層 | 実在性確認 | ワークスペース・ユーザー・チャンネルが実在することを確認 |
| 第 4 層 | 認可チェック | 許可されたユーザー・チャンネルのみ利用可能 |
| 第 5 層 | 内部 API 保護 | システム内部の通信を保護し、外部からの直接アクセスを遮断 |

加えて、AI の出力を監視する Guardrails により、不適切な内容の検出とブロックを行います。

---

## 2 鍵防御モデル

金庫に 2 つの鍵が必要なのと同様に、本システムでは 2 つの「鍵」の両方が揃わないと攻撃が成立しない設計にしています。

- **鍵 1（署名シークレット）**: Slack からの正規リクエストであることを証明。偽造リクエストを検出。
- **鍵 2（ボットトークン）**: ワークスペース・ユーザー・チャンネルが実在することを Slack API で確認。削除済みのユーザーやチャンネルからのリクエストをブロック。

どちらか 1 つだけ漏洩した場合でも、もう 1 つがなければ攻撃は成功しません。両方漏洩した場合は正規ワークスペースの侵害に近い事態となりますが、認可チェックや Guardrails など他の層で影響を抑える設計です。

---

## 監視の概要

- **監視対象**: 不正アクセス試行、セキュリティイベント、システムの異常、パフォーマンス低下。
- **アラート**: 異常検出時にセキュリティチームへ通知し、該当リクエストは自動でブロック。
- **ログ**: セキュリティイベントを記録し、一定期間保存して調査に利用可能。

---

## 組織とユーザーの役割

**組織が行うこと**

- セキュリティポリシーと利用規約の整備・周知
- 機密情報の定義と取り扱いルールの明確化
- 異常時の報告先（システム管理者・セキュリティチーム）の周知

**ユーザーが行うこと**

- 機密情報や個人情報を含む質問を避ける
- 公開チャンネルとプライベートチャンネルを目的に応じて使い分ける
- 利用規約を理解し、不適切な利用を避ける
- 異常な動作に気づいた場合は管理者またはセキュリティチームに報告する

---

## よくある質問（FAQ）

**Q: 機密情報を含む質問をしても大丈夫ですか？**  
A: セキュリティポリシーに従い、機密情報を含む質問は避けてください。多層防御で保護していますが、ユーザー側の適切な利用が重要です。

**Q: セキュリティイベントが発生したらどうなりますか？**  
A: システムが検出し、該当リクエストをブロックします。セキュリティチームに通知され、必要に応じて調査が行われます。

**Q: 2 鍵防御とは何ですか？**  
A: 2 つの独立した鍵（署名シークレットとボットトークン）を使い、1 つが漏洩しても、もう 1 つがなければ攻撃が成立しない仕組みです。

**Q: 多層防御とは何ですか？**  
A: 複数のセキュリティ層で守り、1 層が突破されても他層が防御する考え方です。建物の入館・フロア・部屋ごとのアクセス制御に似ています。

**Q: インシデント時は誰に連絡すればよいですか？**  
A: システム管理者またはセキュリティチームに連絡してください。緊急時は速やかに報告することが重要です。

---

## 用語集

- **署名検証**: Slack からの正規リクエストであることを確認する機能。偽造リクエストを検出する。
- **実在性確認**: ワークスペース・ユーザー・チャンネルが実在することを確認する機能。
- **2 鍵防御**: 2 つの独立した鍵により、1 つが漏洩してももう 1 つがなければ攻撃が成立しないモデル。
- **多層防御**: 複数のセキュリティ層で守り、1 層が突破されても他層が防御するアプローチ。
- **認可チェック**: リクエストが利用を許可されているかを確認する機能。
- **Guardrails**: AI の出力を監視し、不適切な内容を検出・ブロックする機能。
- **セキュリティイベント**: 不正アクセス試行や異常など、セキュリティ上記録・対応する事象。
